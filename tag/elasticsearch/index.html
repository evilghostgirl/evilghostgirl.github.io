<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22class%22:%7B%22ssr%22:%22h-full%22%7D%7D">
  <head>
    <title>Autodydaktycznie. Blog o technologiach webowych i IT | Julia Glaszka</title><meta name="gridsome:hash" content="104e9957bb95154a061d53f76710e0efda2a910a"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.20"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="theme-color" content="#261447"><meta data-vue-tag="ssr" name="msapplication-navbutton-color" content="#261447"><meta data-vue-tag="ssr" name="apple-mobile-web-app-status-bar-style" content="#261447"><meta data-vue-tag="ssr" name="viewport" content="width=device-width"><meta data-vue-tag="ssr" data-key="description" name="description" content="Blog o moich samodzielnych zmaganiach z nauką z różnych dziedzin IT. "><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.34768914d4a101067dd64a8f857ab22c.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat|Work+Sans:700&amp;display=swap"><link rel="preload" href="/assets/css/0.styles.b18a196f.css" as="style"><link rel="preload" href="/assets/js/app.d4bb31f0.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--tag-vue.54eb6af2.js" as="script"><link rel="prefetch" href="/assets/js/11.0f98a1ef.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.f676987c.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.d3c47a5d.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.c523a6ce.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue~page--src--templates--author-vue.54ec44ca.js"><link rel="prefetch" href="/assets/js/page--src--templates--author-vue.dc5962f5.js"><link rel="prefetch" href="/assets/js/page--src--templates--post-vue.6a4df57b.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--index-vue~page--src--templates--author-vue~page--src--templates--post-vue~~a0fae544.b32c2c6b.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--post-vue.a7978f34.js"><link rel="stylesheet" href="/assets/css/0.styles.b18a196f.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="antialiased font-serif" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22antialiased%20font-serif%22%7D%7D">
    <div data-server-rendered="true" id="app" class="container-fluid "><main><nav class="section p-b-xs p-t-md"><div class="container"><a href="/" class="button is-outlined is-rounded is-small active">
      ← Powrót</a></div></nav><header class="section"><div class="container"><div><p class="is-size-6">1 posts in total</p><h1 class="title"><figure class="image is-24x24 m-r-sm"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" aria-labelledby="tagIcon"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg></figure> Elasticsearch</h1><title id="tagIcon">Posts tagged</title></div></div></header><section class="section"><div class="container"><div class="columns is-multiline"><div class="column is-half-tablet is-one-third-desktop m-t-md m-b-md p-l-md p-r-md"><div class="card" style="height: 100%"><div class="card-image"><a href="/elasticsearch-kilka-praktycznych-przykladow-wyszukiwan/"><img alt="No photo" src="/images/posts/elasticsearch-zapytania/searching.jpg" class="g-image"></a></div><div class="card-content"><h5 class="title is-size-4 has-padding-bottom-10 "><a href="/elasticsearch-kilka-praktycznych-przykladow-wyszukiwan/" class="has-text-black-ter">Elasticsearch - kilka praktycznych przykładów wyszukiwań</a></h5><div class="subtitle is-size-6 has-text-grey	"><!----></div><p class="has-text-grey	 is-size-6">W dzisiejszym wpisie poruszę tematykę elasticsearch.  Jesli nie znasz tej technologii, zapraszam do przeczytania Getting Started zanim zaczniesz czytać ten post. 
Wstęp
Elasticsear ...</p></div><div class=" post-info-box"><div class="is-pulled-left has-padding-right-10"><figure class="image is-48x48"><img alt="X" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 480 480' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-0845eac36ffbdc9ab8f9f64c06b2f35b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-0845eac36ffbdc9ab8f9f64c06b2f35b)' width='480' height='480' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAAQkklEQVR42o3b1XLtNhSAYb//W3QKU2bmU2ZmZub2fnc%2bz/yZFdU5zYXibFuWFpOWtx9//PH0/fffn7744ovT559/fvr6669PL7300umzzz47/fnnn6dvv/329NZbb52ee%2b6504svvnh65513Tk888cQ%2bnnzyyf361FNPnd5///39HXNef/31/R1zjffee28fH3744emjjz7a13/jjTdOn3zyyf785ZdfPr366qv7u4bfr7322n7vaHh%2bNKzr%2bsILL5zB939jg/y77767I/HKK6%2bcHnnkkR34X3755fTXX3/tRACsRY2nn3563wgg5hueu//MM8%2bcnn/%2b%2bZ1Y5rq69/DDD%2b/jwQcf3BG0rvU//fTT088//7wzwP%2bI88EHH%2byE%2buqrr05ffvnlf4b7v/322w5X448//jgbfv/00087AYPvamOzKKpNypOCjz/%2b%2bIxrJj777LPnKG1A1nuQh6xhrjmeIUK/EaJ3cN4eBqnzG%2bKkyO9vvvlmhyPCv/3227tUgcEa9vS//azXXob/gzGJutrYbJQIWsBNQNuUZPjfohb0f5w1j6R0L/EjVg899NCOcIRBSFz57rvvdqSpm3s4jtCuJACxEYFaIISr5/Z688039/1I6mOPPXZGWM9iSEgHz2XG9uijj%2b5ib1H/GwCHyJUrV870NR21uN8AiBCAA4x75kEEgoBnF6aUQf73338//f333/s1O4AIkPdu4h6BzLGXfc3FtMcff3wnsj3BGNL2iGGXIkDA2pyYtUhGzOakwQY2nOLnnnfNxd0MKREm0pCHBEnCYVdITI7azxySQYfZg1Tv119/3QlgLmMMjmmPEMHAqER6iv6lCGAikUU1GyEEACAPQPchDmEvmGOYAykIA9xv/0MAoACHhIH7nuMqY3jLLbfsA8EhxnAhGgOXPfA%2bWKxnjjXs6z7Y8jZUImZM3b60BNx11107gnffffdupS2YYTOBeqBy7sdmEAQovQY4gEgAggAkkYYwAkQM60UQRE/drI/QiAMWCCMCWFwRJvcMToj7PT1QCCUdl5aA9DvRAtT999%2b/I/7AAw/sgLIPLUoqIIbriAC4xBNA%2bfw4le/P0FnH%2b1yh9SFtTftTEePee%2b/dR54JEX744YddGkjFfffdt8OECKlq6rmqwdE4RwCAJ9IhAAgA%2b21Dc7LykAYMZHDfcwTM2gM2t4lT1oacqzUiCo5n4RHBOoiZxKRe5ts/9WJnIH3HHXfsEgseayCAceQZrioB/gCWGLKuGTu/LRSBQgDSOAiILD8RzIWlvwiYOFo3n21OMYVoDSddcdxcRJjGs%2beuiIH4iEHq3LeWPYtBZlywIruqxh4HmAyBgoeCCZbV8D9OWhxwcQXlEcUcwCZFBT9zs4ITRDOf6EOoPSABmdtuu%2b10/fXXn%2b68886du57loexpD8hiCiIZhd2uXPf/qcIkyB4JWhQCBULF0gUaOMMY2QTy5hJpQLuP235nQyYh40LEABz74ooACGPfCI2LCEEl2CAGmr6DxT4kwrxiFgTAPARrn%2bKCI4Tn7%2bKZDQAFFXNS6oAD7qE8KgMQoIDIgBYRFoRM6kdQvxETl%2byXSkQcCCfSPc8okwpukySYiyjmQHxGsKQkNShoW2FpFFNshZUlNzPeNwFyUct9QExjmU8uhM6m5Jq6H9dITZKSHYlzkE4dQ4J0INqNN954uummm3Y4GUIqiGnWA4N5ZaYr1wv1I5Z9Sf5uAwBbWtsVoKWLRVkkwkslJEQyXY9gNnD1PmSKHbyPANPWFGvMEHaGtN6fkmAggmcIgBFgilDg8j8CZGTLaRCoSJcKu7bPNvNsCxom5MIScQulJrmxgA7JiJnRm9ma%2bxEp8ZxrrJHcarFbj6pABhFIICJNGErgCrWnlE2CnQuELDwTDxRLlPPxuOq3DeJimaT/3TcvSzyzRJwuZHUN2BAN2VUajghjDXuBixqaQ2rtaW772D%2bEVyN4Lh1GQZaZgbrnnnt2Cyz6Q2kLlfi4oupcNOPXPUAAJpc1xbP0eCK/uqeJ7KrHK/DZIAFT8EwvNmOBuc9aK9joOKvK7wLw1ltv3fUV0BCJ2hmtkIL01Le46zl1CQDP3Ld2qrFydSJ3mVx%2b2gUSW/VnVqmulhKfk4D09Oabb96552XXuAt43JupspEuu3qWAWpeYWn/T7d3xJk1Qjvy5VNtcruu6ppiFDAnsSthp8stCNrdYJY2/wt5HEysZ90PcnMBz6f4e7%2bQeVr6bMkqfkc6vxJm3k96CpzAWbLEKIpUSe1FEpaLB3sufMt45FNzXxO4LGkW3f9ROqDS7wiShMzq0ioBF4nnRZGcPQHPCxWN%2bm3tXB5DDt5pq5IWDARjbtDYKoRkOCycdZ8UrOyVIZkGJTG3cLFAGWFBkTVLdyuzX6aQkaRYF3IGccd1nqvyeWpRbdHz8AiuArtKersbLJ9mCIu789mTW4XG/Z/1z90hQFwJ8AodFVAMQLtW6YFMpbKZys5r6bnhnVLk1LJRSuy5rNX8EC7dXxm7cXceZPEzLDMYqXY3rXgcx0UiWIjb%2b1WPzcGVqkIVUcr9OwcoWkt12q9gJuJZk8diq6xd6S4GFQqTWMkSQmHKkcc5k4AKFoAhrvOUZiY0kJ4ATgubDmY0S06qOQpjDUmNLM%2b9VKuYAkJTEhLf8hHuWSqNURHNM4RrrnvZhs4ZKqetydGZDbBp4W26MdNL1O1FSBZpzcgrdWmTEhBBFgnpnAEnc5mlvtUFjVlLaM8Sl4wdeJLY6gNGzOyQJakifVTiyK1uUkrAOqriSkxOnKa1RtXEep6%2b2DCfnyEFJC6XMtO/dJbKQRrySQ9AAe15gVYcinCTaxlucFYUAdfR%2bUSGs5L9amD3gxGLmkBUVjcU4vM4bPr1mQqHfIHINJbFA4ANWfMi9jyvmxLXeojUQS4p6jzCmqJX62fkSnwQrxI/QiV9JWXG1kGGyS0SUEV6R%2bFr533zzKBrOlgtP3Gt8luZK7dYxJkqFU2W/VV%2bsy8PBfHODcDnWmmv93N92Y9sV3FObnkj%2btXybDqjvVnhiaqVtrq2ePP8P6uzeYIseUmMK4CNRH/W8yIgAjgLKKdATERQJWIzEKIAp7PIacPcrwYg2atKfVYPIAFRvhPZmZ3N8LWgwyKJ64y9CzUT6YiStYZAeXrZpXmr8StqNA%2bxVIKuvfbanRj%2bNyBz3XXX7d4kN5cBX%2bsM4DbP/gVBeZ%2btPH4NU6c1n8nENIRFYGtEN9UCcOxMOTvDWGps74KuxDcjRqzz7/bh/qoFVqk29/bbb9%2bN6iy/TWMYQxAstSik343gLIIepaXTJ5f2NqbNSERbvIYJlCfCrqXEAG6NtQRfOS2CZ6ymnQgx9zu1KvYvHphZozn2nPHNmReYOfZF6eesuRW8BFjiN%2bfH/RKsyuEIwT1yva7zPNIgDRDJcE1GJB0VPs2Z5XXXWYYLBzBW2j8qxmwXWfk2jmqz6yOXVi0/FciIHnmMpClDFRGtQbfdz1h2mpyxmkRuT4TC1QhTEsebTe53blB0umaaWyK8psCT8/njVa8CaOpuccM0ZmvqbC%2bA4VqcyahmZxL3iFo8ANHqFRE1aZttONkDtoNaTe6fywVwokjq6DBhVoDiRjo/g4o2zhLPvqDZlVVDFqByo6vXKUiKuKWxnVOWM1Syj9t1nE3CMH5TnVbV2kJqlqsvqs1F1eqBGcZZM5ycKYGazVQZw%2bleZxY5e5FCPgJQi4xdfQwzaVrtRWeOs24xCWHNLfGbMfjabLAaj6x9RJsHJIW7IZWNmHZkrQL3fyfSBU81WRQFJnGdS/Z7Jl9TKlPHmd7PUyLPt5DMrx5VZUKg6s6qItUGrUPMC0Vnr1FqciRVAW1/qpE4kxZ9AIwdhOkzr9FBSyo285QZv8z2ngK4DGVwbbPktFZl4myGcPrgbEGIJxEzXpgJUFK2GtppkOIstyXomb1/pKOa44xFjoia6tm/hKi8o2aP7Ng23cM8rloPRdpsdotOX5tu9v5UqdLXanhHVdtGz4v4OlOIEXmCqddHhjtYKrbMou65OGBNYo6OomaousYKcXw9IT4qd3tGGmYbazo6paR3a6KIyAgod5m%2b/qiG2H4zqzyyO%2bfiABuVxa2x/nQrdXREsFkwne/O2uJaOqtPSF0g6z5L2REnY1Xz9uw3sl8JzdH5Qb3PMtC1c2x6oK3O7051iqdDNONSqpqbm1IwuTatfxWj1drPU2PP3c%2btVT2q8ispqlkT0bJXfkeclfuzWVvxtXT/6NR5K5ko0poGLg7ODpCpGnFpPe1N5Nbo8mqnPwwUjlbfQ5jZiQYeln%2be7tShMqPS2cKfhJKe7EDpfkd6%2b8kQq1t7Sta1AGbtw12tN2OVUZxGNBVYDeZFyVaGEueV5tT/a6GzR0kPO9CR2JSEmFh5fp5GFUX2/YJRSL2VdIRwZfHpUwGQOsx4O2mpBBYiGdP1hPaIgDPUrseHvzfmIcs8gc4LzA8rWqe%2bxk6oEaKWnjxJSRcJ28q1s8715Zsw44EJSCowLXRAFMdnA7IZVzumTm/F7aRxErmOk4wjAgRnbrI%2bxghZwFMDRadFffvguTZfz7cORIrcQjDLubadrVzLv873ZoCSeF5kC9aQ2/y%2bOZAmlzh1fpBYZxfyHLMIMmFLSv1mTDuh0omuZf8/FaH1KHlmfdPCVg%2bYyUdrFC1mSDtau8gYTjfV8%2bkCZ6MVAtQm02jfCilzrTLHqsDiiKTFUcAmtu6sbbaWzPT3qOJTfN0zYjZ7hkK%2b9DXf/X/dmzPaLJmZEpJK2a8Ca66247nC%2brwEL1ADRR9leBdBt5qfLEjkXCfS07h1zB0SWdyAS0%2b75toKtohfNmcmR0nTRd/6pFYlMlNdqxF05F7Lbp/d%2bCirvuPK8dap/3ibpeQZKpb5FR3OdHOGxxGnU9m1RtCxl837lsBvgGSsEtFVAtsv/22k%2bwVTfeSR8cu6981B/Y0Z%2br5I833DbgRrgkqU6NgsLMzz/xCfgU%2buaj1LnJFXh5SdBvV%2bJ0b56Xx1xMg1NtQGILU2YXsPUoImhi7RTyoZVfc6RLF%2bDd7bzJUzXlMsJ3Ihm09e8wQ1%2bipF60dMs1ZYW30lrNxn9%2bb3RrW9CI5wNjebWhRCzw8uyvft63cfYPm/pC4PsktAZ2u5jwocfQa3doROpKb6VPaeH00mEZ3ypHIdWHJHvhnKOjePeELal2V9hDG/EZr9QVPaKo9Zi1SEOFjYuxIq7%2b31gJnolNdbnIGYbitxW8vks2UOQvUaH4XGnQzH6aq7pboQ7tMYwGfRq1bNLpQIkNGtJ6CPvmYvUG06s1TXCfU2PzlLzGfS0MFlnJxd4IW8s4HaxoiQL69YOnsMMkzTZ68fQpbwzLaXKfZrFrh2vM%2bgqHngINHKbNdcc83phhtuOG0FCrmWWb%2bfm85Kb25zfh5bHzHK1suXOglvSQWpgjwuXfabnjVcnucPMe%2boB3mu0SGKZlCHrL5M8dv72%2bzxD6E4nnsrFigFjtrzI8p0viPwmZoWpRFDvzupvczXXaloLjnilyN0AFMN8Sjpklg5msNo7s8Xa//8889ue7ZKTH3Ly3/Swb4DrIPc/3S8T%2bKEkfS1D6Q8M8d7FpdssL66OvoK3Vff/PAMkC76RH628NciV5dZXgGsweH/o3frD2BMjeBgfF3/BaLWF6ftsZhNAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="480" data-src="/assets/static/Julia.82a2fbd.9219d34820f3b4176346b482b77e3eba.png" data-srcset="/assets/static/Julia.82a2fbd.9219d34820f3b4176346b482b77e3eba.png 480w" data-sizes="(max-width: 480px) 100vw, 480px" class="is-rounded g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/Julia.82a2fbd.9219d34820f3b4176346b482b77e3eba.png" class="is-rounded g-image g-image--loaded" width="480" alt="X"></noscript></figure></div><div class="content is-pulled-left"><span>
            by
            <a href="/author/Julia/" class="has-text-grey-darker">
              Julia
            </a><br></span><div class="has-text-grey-light"><time datetime="2020-09-07 22:56:24">07 September, 2020</time><span> · </span><span>5 min</span></div></div></div><footer class="card-footer"><a href="/elasticsearch-kilka-praktycznych-przykladow-wyszukiwan/" class="card-footer-item">Przeczytaj</a></footer></div></div></div></div></section><!----><footer class="footer has-background-white p-t-xl"><div class="container"><div class="level"><div class="level-left"><div class="level-item"><a href="#" class="title is-4">Autodydaktycznie Blog</a></div></div><div class="level-right"><a href="/author/Julia" class="level-item">Autor</a></div></div><hr><div class="columns"><div class="column has-text-centered has-text-right-tablet"><p class="subtitle is-6">© 2020 - MIT License</p></div></div></div></footer></main></div>
    <script>window.__INITIAL_STATE__={"data":{"tag":{"id":"elasticsearch","title":"elasticsearch","path":"\u002Ftag\u002Felasticsearch\u002F","belongsTo":{"totalCount":1,"pageInfo":{"totalPages":1,"currentPage":1},"edges":[{"node":{"id":"8fa5a7196f6a5cf6e3f3573332ce17ab","title":"Elasticsearch - kilka praktycznych przykładów wyszukiwań","datetime":"2020-09-07 22:56:24","path":"\u002Felasticsearch-kilka-praktycznych-przykladow-wyszukiwan\u002F","content":"\u003Cp\u003EW dzisiejszym wpisie poruszę tematykę elasticsearch.  Jesli nie znasz tej technologii, zapraszam do przeczytania Getting Started zanim zaczniesz czytać ten post. \u003C\u002Fp\u003E\n\u003Ch2 id=\"wstęp\"\u003EWstęp\u003C\u002Fh2\u003E\n\u003Cp\u003EElasticsearch to zaawansowany silnik wyszukiwań a jednocześnie baza danych pozwalająca na przechowywanie różnych typów danych. Wykorzystywana jest głównie przy komercyjnych wyszukiwarkach oraz przy gromadzeniu logów systemowych. Dzięki Elasticsearch, możesz wykonywać skomplikowane wyszukiwania, filtry i agregacje, a także wykorzystywać słowniki.\u003C\u002Fp\u003E\n\u003Ch3 id=\"wstępne-ustalenia\"\u003EWstępne ustalenia\u003C\u002Fh3\u003E\n\u003Cp\u003EOgólnie myślę, że sensownie będzie zapisywać działania do plików, dzięki czemu będzie łatwiej zrekonstruować listę kroków. Warto utworzyć tworzyć osobny katalog na czas ćwiczeń. Całość prawdopodobnie złożę jako projekt na githubie, więc będzie dostępny do sklonowania. \u003C\u002Fp\u003E\n\u003Ch3 id=\"przykładowy-use-case\"\u003EPrzykładowy use case\u003C\u002Fh3\u003E\n\u003Cp\u003ERazem z moim trzyosobowym zespołem w ramach hobbystycznych praktyk rozwijaliśmy mini-platformę do wystawiania ogłoszeń. Jednym z wymagań była wyszukiwarka, dzięki której mozna wyszukiwać produkty: po tytule, slowach kluczowych, kategorii, cenie i lokalizacji. Zdecydowaliśmy się na elasticsearch, ponieważ wspiera wyszukiwanie pełnotekstowe i geograficzne.\u003C\u002Fp\u003E\n\u003Ch3 id=\"setup\"\u003ESetup\u003C\u002Fh3\u003E\n\u003Cp\u003ENa potrzeby zabawy postawimy sobie 2 kontenery dockerowe z elasticem + kibaną. Zdefiniowaliśmy:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E1 kontener z elasticsearch w wersji 7.8.0\u003C\u002Fli\u003E\n\u003Cli\u003E1 kontener z kibaną w wersji 7.6.0\u003C\u002Fli\u003E\n\u003Cli\u003E2 woluminy, na których będą przechowywane dane\u003C\u002Fli\u003E\n\u003Cli\u003Esieć o nazwie elastic-network\nWersje nie są najnowsze, ale akurat miałam te obrazy lokalnie na komputerze. Można w razie czego zmienić na nowszą.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #2e3440\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eversion\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E'\u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003E2.2\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E'\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #8FBCBB\"\u003Eservices\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Ees01\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Edocker.elastic.co\u002Felasticsearch\u002Felasticsearch:7.8.0\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eenvironment\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Ebootstrap.memory_lock=true\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003EES_JAVA_OPTS=-Xms512m -Xmx512m\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Ediscovery.type=single-node\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Evolumes\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Edata01:\u002Fusr\u002Fshare\u002Felasticsearch\u002Fdata\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eports\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003E9200:9200\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Enetworks\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Eelastic-network\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Ekibana01\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Edocker.elastic.co\u002Fkibana\u002Fkibana:7.6.0\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Econtainer_name\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Ekib01\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eports\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003E5601:5601\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eenvironment\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003EELASTICSEARCH_URL\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Ehttp:\u002F\u002Fes01:9200\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003EELASTICSEARCH_HOSTS\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Ehttp:\u002F\u002Fes01:9200\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Edepends_on\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Ees01\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Enetworks\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E     \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Eelastic-network\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #8FBCBB\"\u003Evolumes\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Edata01\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Edriver\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Elocal\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #8FBCBB\"\u003Enetworks\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Eelastic-network\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #D8DEE9FF\"\u003E   \u003C\u002Fspan\u003E\u003Cspan style=\"color: #8FBCBB\"\u003Edriver\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003Ebridge\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EPrzeklejamy powyższy plik do docker-compose.yml i zapisujemy. Posiadamy już deklaratywny plik, na podstawie którego docker-compose utworzy wszystko za nas.\nWykonujemy polecenie (dla osób z słabszym internetem - może trochę potrwać, bo pobierają się obrazy):\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #2e3440\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003Edocker-compose up\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ESprawdzamy czy wszystko działa:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #2e3440\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003Edocker ps\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EPowinny się nam pojawić 2 działajace kontenery. Jeśli tak, to fajnie. :)\u003C\u002Fp\u003E\n\u003Ch3 id=\"model-danych\"\u003EModel danych\u003C\u002Fh3\u003E\n\u003Cp\u003EZanim cokolwiek ciekawego zaczniemy robić, musimy zamodelować nasze dane. \u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003E              &quot;title&quot;: &quot;text&quot;\n               &quot;description&quot;: &quot;text&quot;\n               &quot;location&quot;:&quot;geo_point&quot;\n               &quot;price&quot;: &quot;double&quot;\u003C\u002Fcode\u003E\n\u003Cp\u003EIdziemy w maksymalne uproszczenie schematu. Myślę, że model jest dość czytelny. Id zostanie dodane automatycznie. Mamy title i description o typie text, location jest punktem (x,y), który można osadzić na mapie, price to cena - double. Tyle na teraz wystarczy.\u003C\u002Fp\u003E\n\u003Ch3 id=\"mappingi--typy\"\u003EMappingi &#x26; Typy\u003C\u002Fh3\u003E\n\u003Cp\u003EW Elasticu nasz “scheme” definiujemy za pomocą mappingów. Określamy w nich strukturę dokumentów (np offer ). W mappingach można również zawrzeć w nich dodatkowe techniczne ustawienia - ilość replik, timeouty. Dawniej w jednym indexie mozna było przechowywać wiele typów, co powodowało czasem dziwne błędy. Jednak w najnowszych wersjach elastica, jest jeden “typ” per index. Da się to ominąć, znajdziesz to w \u003Ca href=\"https:\u002F\u002Fwww.elastic.co\u002Fguide\u002Fen\u002Felasticsearch\u002Freference\u002Fcurrent\u002Fremoval-of-types.html#_custom_type_field.\" title=\"dokumentacji\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Edokumentacji\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EZapisujemy poniższą składnię w pliku offer_mapping.json. Umożliwi to nam stworzenie indeksu. Wykorzystamy go za chwile. \u003C\u002Fp\u003E\n\u003Cp\u003E{\n\"mappings\": {\n\"properties\": {\n\"title\": {\n\"type\": \"text\"\n},\n\"description\": {\n\"type\": \"text\"\n},\n\"location\": {\n\"type\": \"geo_point\"\n},\n\"price\": {\n\"type\": \"double\"\n}\n}\n}\n}\u003C\u002Fp\u003E\n\u003Cp\u003EWykonujemy komendę, tworząc tym samym nowy index.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #2e3440\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003Ecurl -H \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003EContent-Type: application\u002Fjson\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D8DEE9FF\"\u003E -X PUT http:\u002F\u002Flocalhost:3000\u002Foffers --data \u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #A3BE8C\"\u003E@offer_schema.json\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECEFF4\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EW dalszej części do wykonywania requestów będę już używać devtoolsów w kibanie, bo będzie czytelniej. Jeśli nie chcesz tego używać i wolisz CLI, z łatwością wykonasz requesty np. curlem, jak powyżej.\u003C\u002Fp\u003E\n\u003Ch3 id=\"feedowanie-danych\"\u003EFeedowanie danych\u003C\u002Fh3\u003E\n\u003Cp\u003EPoniżej mini-zbiór danych do sprawdzenia, jak to działa.\u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003EPOST offers\u002F_doc\n{\n              &quot;title&quot;: &quot;skarpety rozmiar 36&quot;,\n              &quot;description&quot;: &quot;kolorowe skarpetki w kropki&quot;,\n              &quot;location&quot;:  {\n                 &quot;lat&quot; : 40, \n                 &quot;lon&quot; : -70\n               },\n              &quot;price&quot;: 10.00\n}\n\nPOST offers\u002F_doc\n{\n               &quot;title&quot;: &quot;szelki&quot;,\n               &quot;description&quot;: &quot;szelki w kolorze czarnym, rozmiar XS&quot;,\n               &quot;location&quot;:  {\n                 &quot;lat&quot; : 50, \n                 &quot;lon&quot; : -40\n               },\n               &quot;price&quot;: 14.00\n\n}\n\nPOST offers\u002F_doc\n{\n               &quot;title&quot;: &quot;muszka&quot;,\n               &quot;description&quot;: &quot;czerwona, męska&quot;,\n               &quot;location&quot;:  {\n                 &quot;lat&quot; : 50, \n                 &quot;lon&quot; : -30\n               },\n               &quot;price&quot;: 130.00\n\n}\u003C\u002Fcode\u003E\n\u003Cp\u003E\u003Ca href=\"link.xd\" title=\"Tak wyglądają devtoolsy\"\u003E\u003Cimg src=\"link.xd\" alt=\"Tak wyglądają devtoolsy\" title=\"Tak wyglądają devtoolsy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETeraz możemy wykonać zapytania o to, czego potrzebujemy.\u003C\u002Fp\u003E\n\u003Ch3 id=\"scenariusze-z-życia-wzięte\"\u003EScenariusze z życia wzięte:\u003C\u002Fh3\u003E\n\u003Ch4 id=\"użytkownik-wyszukuje-pełnotekstowo-po-tytule-oferty\"\u003EUżytkownik wyszukuje pełnotekstowo po tytule oferty:\u003C\u002Fh4\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003EGET offers\u002F_search\n{\n  &quot;query&quot;: {\n    &quot;match&quot;: {\n      &quot;title&quot;: &quot;skarpetki&quot;\n    }\n  }\n}\u003C\u002Fcode\u003E\n\u003Cp\u003EOdpowiedź z serwera, widzimy znaleziony rekord, ponieważ w tytule zawarte jest słowo \"skarpetki\":\u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003E{\n  &quot;took&quot; : 1,\n  &quot;timed_out&quot; : false,\n  &quot;_shards&quot; : {\n    &quot;total&quot; : 1,\n    &quot;successful&quot; : 1,\n    &quot;skipped&quot; : 0,\n    &quot;failed&quot; : 0\n  },\n  &quot;hits&quot; : {\n    &quot;total&quot; : {\n      &quot;value&quot; : 1,\n      &quot;relation&quot; : &quot;eq&quot;\n    },\n    &quot;max_score&quot; : 0.7389809,\n    &quot;hits&quot; : [\n      {\n        &quot;_index&quot; : &quot;offers&quot;,\n        &quot;_type&quot; : &quot;_doc&quot;,\n        &quot;_id&quot; : &quot;QiyNanQB6SAY5Ir04SbI&quot;,\n        &quot;_score&quot; : 0.7389809,\n        &quot;_source&quot; : {\n          &quot;title&quot; : &quot;skarpety rozmiar 36&quot;,\n          &quot;description&quot; : &quot;kolorowe skarpetki w kropki&quot;,\n          &quot;location&quot; : {\n            &quot;lat&quot; : 40,\n            &quot;lon&quot; : -70\n          },\n          &quot;price&quot; : 10.0\n        }\n      }\n    ]\n  }\n}\u003C\u002Fcode\u003E\n\u003Ch4 id=\"użytkownik-w-filtrach-wybiera-zakres-cenowy\"\u003EUżytkownik w filtrach wybiera zakres cenowy\u003C\u002Fh4\u003E\n\u003Cp\u003EUstalamy:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Egte (greater than or equal) - większe lub równe 10, \u003C\u002Fli\u003E\n\u003Cli\u003Elte (lower than or equal) - mniejsze lub równe 20\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003EGET offers\u002F_search\n{\n    &quot;query&quot;: {\n        &quot;range&quot; : {\n            &quot;price&quot; : {\n                &quot;gte&quot; : 10,\n                &quot;lte&quot; : 20,\n                &quot;boost&quot; : 2.0\n            }\n        }\n    }\n}\u003C\u002Fcode\u003E\n\u003Cp\u003EZnalezione 2 oferty, z ceną większą niż 10 ale mniejszą niż 20.\u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003E{\n  &quot;took&quot; : 1,\n  &quot;timed_out&quot; : false,\n  &quot;_shards&quot; : {\n    &quot;total&quot; : 1,\n    &quot;successful&quot; : 1,\n    &quot;skipped&quot; : 0,\n    &quot;failed&quot; : 0\n  },\n  &quot;hits&quot; : {\n    &quot;total&quot; : {\n      &quot;value&quot; : 2,\n      &quot;relation&quot; : &quot;eq&quot;\n    },\n    &quot;max_score&quot; : 2.0,\n    &quot;hits&quot; : [\n      {\n        &quot;_index&quot; : &quot;offers&quot;,\n        &quot;_type&quot; : &quot;_doc&quot;,\n        &quot;_id&quot; : &quot;QiyNanQB6SAY5Ir04SbI&quot;,\n        &quot;_score&quot; : 2.0,\n        &quot;_source&quot; : {\n          &quot;title&quot; : &quot;skarpety rozmiar 36&quot;,\n          &quot;description&quot; : &quot;kolorowe skarpetki w kropki&quot;,\n          &quot;location&quot; : {\n            &quot;lat&quot; : 40,\n            &quot;lon&quot; : -70\n          },\n          &quot;price&quot; : 10.0\n        }\n      },\n      {\n        &quot;_index&quot; : &quot;offers&quot;,\n        &quot;_type&quot; : &quot;_doc&quot;,\n        &quot;_id&quot; : &quot;RCyNanQB6SAY5Ir07CYY&quot;,\n        &quot;_score&quot; : 2.0,\n        &quot;_source&quot; : {\n          &quot;title&quot; : &quot;szelki&quot;,\n          &quot;description&quot; : &quot;szelki w kolorze czarnym, rozmiar XS&quot;,\n          &quot;location&quot; : {\n            &quot;lat&quot; : 50,\n            &quot;lon&quot; : -40\n          },\n          &quot;price&quot; : 14.0\n        }\n      }\n    ]\n  }\n}\u003C\u002Fcode\u003E\n\u003Ch4 id=\"szukanie-po-lokalizacji\"\u003ESzukanie po lokalizacji:\u003C\u002Fh4\u003E\n\u003Cp\u003EChcemy znaleźć oferty w promieniu 100km od miejscowości o współrzędnych [-70.001, 40.002]\u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003EGET offers\u002F_search\n{\n    &quot;query&quot;: {\n        &quot;bool&quot; : {\n            &quot;must&quot; : {\n                &quot;match_all&quot; : {}\n            },\n            &quot;filter&quot; : {\n                &quot;geo_distance&quot; : {\n                    &quot;distance&quot; : &quot;100km&quot;,\n                    &quot;location&quot; : [-70.001, 40.002]\n                }\n            }\n        }\n    }\n}\u003C\u002Fcode\u003E\n\u003Cp\u003EOdpowiedź z serwera:\u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003E{\n  &quot;took&quot; : 1,\n  &quot;timed_out&quot; : false,\n  &quot;_shards&quot; : {\n    &quot;total&quot; : 1,\n    &quot;successful&quot; : 1,\n    &quot;skipped&quot; : 0,\n    &quot;failed&quot; : 0\n  },\n  &quot;hits&quot; : {\n    &quot;total&quot; : {\n      &quot;value&quot; : 1,\n      &quot;relation&quot; : &quot;eq&quot;\n    },\n    &quot;max_score&quot; : 1.0,\n    &quot;hits&quot; : [\n      {\n        &quot;_index&quot; : &quot;offers&quot;,\n        &quot;_type&quot; : &quot;_doc&quot;,\n        &quot;_id&quot; : &quot;-SyVanQB6SAY5Ir0BSZs&quot;,\n        &quot;_score&quot; : 1.0,\n        &quot;_source&quot; : {\n          &quot;title&quot; : &quot;skarpety rozmiar 36&quot;,\n          &quot;description&quot; : &quot;kolorowe skarpetki w kropki&quot;,\n          &quot;location&quot; : {\n            &quot;lat&quot; : 40,\n            &quot;lon&quot; : -70\n          },\n          &quot;price&quot; : 10.0\n        }\n      }\n    ]\n  }\n}\u003C\u002Fcode\u003E\n\u003Cp\u003EZnalazło 1 rekord o współrzędnych [-70, 40].\u003C\u002Fp\u003E\n\u003Ch4 id=\"wyszukiwanie-również-w-opisie\"\u003EWyszukiwanie również w opisie\u003C\u002Fh4\u003E\n\u003Cp\u003EMamy 1 rekord, który w tytule ma \"skarpety\" a w opisie \"skarpetki\". Chcemy go wyszukać po opisie. Ogólnie da się skonfigurować, żeby wyszukiwało pochodne słowa od skarpety, ale to może w innym poście :)\u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003EGET offers\u002F_search\n{\n  &quot;query&quot;: {\n    &quot;multi_match&quot; : {\n      &quot;query&quot;:    &quot;skarpetki&quot;, \n      &quot;fields&quot;: [ &quot;title&quot;, &quot;description&quot; ] \n    }\n  }\n}\u003C\u002Fcode\u003E\n\u003Cp\u003ENo i mamy znalezione skarpetki.\u003C\u002Fp\u003E\n\u003Ccode class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\"\u003E{\n  &quot;took&quot; : 0,\n  &quot;timed_out&quot; : false,\n  &quot;_shards&quot; : {\n    &quot;total&quot; : 1,\n    &quot;successful&quot; : 1,\n    &quot;skipped&quot; : 0,\n    &quot;failed&quot; : 0\n  },\n  &quot;hits&quot; : {\n    &quot;total&quot; : {\n      &quot;value&quot; : 1,\n      &quot;relation&quot; : &quot;eq&quot;\n    },\n    &quot;max_score&quot; : 0.9808291,\n    &quot;hits&quot; : [\n      {\n        &quot;_index&quot; : &quot;offers&quot;,\n        &quot;_type&quot; : &quot;_doc&quot;,\n        &quot;_id&quot; : &quot;-SyVanQB6SAY5Ir0BSZs&quot;,\n        &quot;_score&quot; : 0.9808291,\n        &quot;_source&quot; : {\n          &quot;title&quot; : &quot;skarpety rozmiar 36&quot;,\n          &quot;description&quot; : &quot;kolorowe skarpetki w kropki&quot;,\n          &quot;location&quot; : {\n            &quot;lat&quot; : 40,\n            &quot;lon&quot; : -70\n          },\n          &quot;price&quot; : 10.0\n        }\n      }\n    ]\n  }\n}\u003C\u002Fcode\u003E\n\u003Cp\u003ETo tyle na dziś. Jako czytelnik różnych blogów lubię, gdy jest dużo przykładów, więc też w takiej formie postanowiłam stworzyć wpis. Będę testować, czy przyjemniej mi się tak pisze.\u003C\u002Fp\u003E\n","excerpt":"","description":"Przykłady zapytań do elasticsearcha","cover":"\u002Fimages\u002Fposts\u002Felasticsearch-zapytania\u002Fsearching.jpg","timeToRead":5,"author":{"id":"Julia","title":"Julia","path":"\u002Fauthor\u002FJulia\u002F"}}}]}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.d4bb31f0.js" defer></script><script src="/assets/js/page--src--templates--tag-vue.54eb6af2.js" defer></script>
  </body>
</html>
